<!DOCTYPE html>
<!-- Template by html.am -->

<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Server - Commands</title>
		
        {% load staticfiles %}
        <link rel="stylesheet" type="text/css" href="{% static 'allStyle.css' %}"

	</head>
	
	<body>		
				
		<main>
			<div class="innertube">
				
				<h1>Command page</h1>
                <h2>Current values</h2>
                <table>
                    <tr><td>Log frequency:</td><td>{{ log_freq }}</td>
                    <tr><td>Collection status:</td><td>{{ collection_status }}</td>
                    <tr><td>Logging status:</td><td>{{ logging_status }}</td>
                    <tr><td>Alert status:</td><td>{{ alert_status }}</td>
                </table>
                <h2>Commands</h2>
                <form name="force_form" action="/monitor/commands/" method="get">
                    <input type = "hidden" name = code value = "f">
                    <input type = "submit" value="Force log">
                </form><br>
                <form name="freq_form" action="/monitor/commands/" method="get">
                    <input type = "hidden" name = code value = "m">
                    <input type = "number" name="freq" min = "0">
                    <input type = "submit" value="Set log frequency">
                    <input type = "button" value="Get log frequency" onclick = "freq_form.freq.value = ''; freq_form.submit();">
                </form><br>
                <form name="read_form" action="/monitor/commands/" method="get">
                    <input type = "hidden" name = code value = "r">
                    <select name = "var">
                        {% for var in varlist %}
                            <option value="{{ var }}">{{ var }}</option>
                        {% endfor %}
                    </select>
                    <input type = "submit" value="Get current value">
                </form><br>
                <form name="collection_form" action="/monitor/commands/" method="get">
                    <input type = "hidden" name = code value = "c">
                    <select name = "dir">
                        <option value="on">On</option>
                        <option value="off">Off</option>
                        <option value="toggle">Toggle</option>
                        <option value="get">Get</option>
                    </select>
                    <input type = "submit" value="Change collection status">
                </form><br>
                <form name="log_form" action="/monitor/commands/" method="get">
                    <input type = "hidden" name = code value = "l">
                    <select name = "dir">
                        <option value="on">On</option>
                        <option value="off">Off</option>
                        <option value="toggle">Toggle</option>
                        <option value="get">Get</option>
                    </select>
                    <input type = "submit" value="Change logging status">
                </form><br>
                <form name="alert_form" action="/monitor/commands/" method="get">
                    <input type = "hidden" name = code value = "a">
                    <label>Variable:
                        <select name = "var">
                            {% for var in varlist %}
                                <option value="{{ var }}">{{ var }}</option>
                            {% endfor %}
                            <option value="off">Off</option>
                        </select>
                    </label>
                    <label>Min:<input type="number" name="Min"></label>
                    <label>Max:<input type="number" name="Max"></label>
                    <input type = "submit" value="Set alert">
                    <input type = "button" value="Alert off" onclick = "alert_form.var.value = 'off'; alert_form.submit();">
                </form><br>
                <h2>{{error}}</h2>
                <h3>{{details}}</h3>
                
			</div>
		</main>
	
		<nav id="nav">
			<div class="innertube">
			
			<h3>Beers</h3>
			<ul>
				<li><a href="/monitor/chart/">Active Beer</a></li>
                {% for beer in all_beers %}
                {% if beer == active_beer %}
                    <b><li><a href="/monitor/chart/{{ beer.id }}/">{{ beer }}</a></li></b>                
                {% else %}
                    <li><a href="/monitor/chart/{{ beer.id }}/">{{ beer }}</a></li>
                {% endif %}
                {% endfor %}
			</ul>
			<h3>Options</h3>
			<ul>
                <li><a href="/monitor/dashboard/">Dashboard</a></li>
				<li><a href="/monitor/commands/">Commands</a></li>
				<li><a href="/admin/">Admin</a></li>
			</ul>
			</div>
		</nav>
	
	</body>
</html>